# Test configuration for redirect handling
# Tests various redirect status codes

server {
    listen 8080;
    server_name localhost;
    root ./www;
    index index.html;
    
    # Test 301 - Permanent Redirect
    location /redirect {
        return 301 /;
    }
    
    # Test 302 - Temporary Redirect  
    location /temp-redirect {
        return 302 /status.html;
    }
    
    # Test 307 - Temporary Redirect (preserves method)
    location /temp-redirect-307 {
        return 307 /upload.html;
    }
    
    # Test 308 - Permanent Redirect (preserves method)
    location /perm-redirect-308 {
        return 308 /cgi-demo.html;
    }
    
    # External redirect
    location /github {
        return 301 https://github.com/ValGSgit/webserv;
    }
    
    # Old page redirect
    location /old-page {
        return 301 /index.html;
    }
    
    # Test redirect to games
    location /play {
        return 302 /games.html;
    }
    
    # Root location
    location / {
        allow_methods GET POST DELETE;
        root ./www;
        index index.html;
    }
}
